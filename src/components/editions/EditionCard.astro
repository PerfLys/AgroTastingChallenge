---
import { ImageIcon } from "@lucide/astro";

interface Props {
  year: number;
  href: string;
  description?: string;
  subtitle?: string;
  coverImage?: string;
  isAboveFold?: boolean;
}

const { year, href, description, subtitle, coverImage, isAboveFold = false } = Astro.props;
---

<a
  href={href}
  class="group rounded-2xl border border-primary/20 hover:border-primary/35 bg-bg-secondary/60 dark:bg-bg-secondary/10 overflow-hidden transition-colors"
>
  {coverImage ? (
    <img
      src={coverImage}
      alt={`Couverture Ã©dition ${year}`}
      class="w-full aspect-[16/9] object-cover group-hover:scale-[1.02] transition-transform duration-300"
      loading={isAboveFold ? "eager" : "lazy"}
      fetchpriority={isAboveFold ? "high" : "low"}
      decoding="async"
      sizes="(max-width: 640px) 100vw, 50vw"
    />
  ) : (
    <div class="w-full aspect-[16/9] bg-gradient-to-br from-neutral-100/50 to-neutral-200/30 dark:from-neutral-800/50 dark:to-neutral-900/30 flex items-center justify-center border-b border-neutral-200/50 dark:border-neutral-700/50">
      <div class="text-neutral-400 dark:text-neutral-500 group-hover:text-neutral-500 dark:group-hover:text-neutral-400 transition-colors">
        <ImageIcon class="w-12 h-12" stroke-width="1.5" />
      </div>
    </div>
  )}

  <div class="p-5">
    <div class="font-medium text-neutral-800 dark:text-neutral-100">
      {year}
    </div>
    <div class="mt-1 text-xs text-neutral-600 dark:text-neutral-400">
      {subtitle || description || "Galerie + PDFs"}
    </div>
  </div>
</a>


